---
import Community from "./stickers/Community.astro";
import Starrrr from "./stickers/Starrrr.astro";

const {
  quotos = [
    "Just wow",
    "Weasel saved my life",
    "I love how fast it is to get going",
    "How did they make it so quick?!",
    "Finally, Devex put first",
    "Kiss your old framework problems goodbye! 💋👋",
    "Weasel knows the way",
    "Really impressive",
    "Makes coding fun again",
    "Does all the plumbing faff I hate 🪠",
    "Weasel's got your back",
    "Portability is top notch",
    "Blazingly fast 🔥",
    "OMG Weasel is for me",
    "Winner winner, chicken dinner",
    "Can I get this to go?",
    "5 Stars ⭐⭐️⭐️⭐️⭐️️",
    "Better than Bitcoin",
    "Awesome VSCode extension",
    "devex like Rails - hype like Rust - community like Spring",
    "Can someone show me the weasel?",
    "If you know, you know",
    "Whoah - impressive",
    "Was this generated by an AI?",
    "Building my next startup in .weasel fosho",
    "Finally, someone has shown me the light",
    "Fast fast fast 🏎️",
    "As good as it gets",
  ],
} = Astro.props;

// const quoteLimit = getQuotes();
---

<div class="flex flex-col gap-1 sm:flex-row">
  <div
    class="flex-0 relative flex w-auto flex-col justify-between gap-5 overflow-visible rounded-xl bg-green-600 p-5 sm:w-1/2 md:w-2/5 md:p-10 xl:w-1/4"
  >
    <h4 class="text-3xl font-semibold antialiased">Join the fun</h4>
    <div class="min-h-[300px]">
      <Community />
      <Starrrr />
    </div>
    <div>
      <p>Why develop with Weasel?</p>
      <strong>It shows you the way</strong>
    </div>
  </div>

  <div
    class="flex w-auto rounded-xl bg-pink-300 p-5 sm:w-1/2 md:w-3/5 md:p-10 xl:w-3/4"
    x-data="getQuotes()"
  >
    <div
      class="flex flex-wrap content-start gap-2"
      x-data={`{ quoteCount: quoteCount(), quotes: ${JSON.stringify(quotos)}}`}
    >
      <template x-for="quote in quotes.slice(0, quoteCount)">
        <div class="rounded-xl bg-stone-50 px-2 py-1">
          <p x-text="quote"></p>
        </div>
      </template>
    </div>
  </div>
</div>

<script is:inline>
  function getQuotes() {
    const screenWidth = window.innerWidth;
    return {
      default: 10,
      quoteCount() {
        if (screenWidth < 1024) {
          return 10;
        } else {
          return 40;
        }
      },
    };
  }
</script>
